{
  "version": 3,
  "sources": ["../../svelte/src/reactivity/reactive-value.js", "../../svelte/src/reactivity/media-query.js", "../../svelte/src/reactivity/url-search-params.js", "../../svelte/src/reactivity/url.js"],
  "sourcesContent": ["import { createSubscriber } from './create-subscriber.js';\r\n\r\n/**\r\n * @template T\r\n */\r\nexport class ReactiveValue {\r\n\t#fn;\r\n\t#subscribe;\r\n\r\n\t/**\r\n\t *\r\n\t * @param {() => T} fn\r\n\t * @param {(update: () => void) => void} onsubscribe\r\n\t */\r\n\tconstructor(fn, onsubscribe) {\r\n\t\tthis.#fn = fn;\r\n\t\tthis.#subscribe = createSubscriber(onsubscribe);\r\n\t}\r\n\r\n\tget current() {\r\n\t\tthis.#subscribe();\r\n\t\treturn this.#fn();\r\n\t}\r\n}\r\n", "import { on } from '../events/index.js';\r\nimport { ReactiveValue } from './reactive-value.js';\r\n\r\nconst parenthesis_regex = /\\(.+\\)/;\r\n\r\n// these keywords are valid media queries but they need to be without parenthesis\r\n//\r\n// eg: new MediaQuery('screen')\r\n//\r\n// however because of the auto-parenthesis logic in the constructor since there's no parentehesis\r\n// in the media query they'll be surrounded by parenthesis\r\n//\r\n// however we can check if the media query is only composed of these keywords\r\n// and skip the auto-parenthesis\r\n//\r\n// https://github.com/sveltejs/svelte/issues/15930\r\nconst non_parenthesized_keywords = new Set(['all', 'print', 'screen', 'and', 'or', 'not', 'only']);\r\n\r\n/**\r\n * Creates a media query and provides a `current` property that reflects whether or not it matches.\r\n *\r\n * Use it carefully â€” during server-side rendering, there is no way to know what the correct value should be, potentially causing content to change upon hydration.\r\n * If you can use the media query in CSS to achieve the same effect, do that.\r\n *\r\n * ```svelte\r\n * <script>\r\n * \timport { MediaQuery } from 'svelte/reactivity';\r\n *\r\n * \tconst large = new MediaQuery('min-width: 800px');\r\n * </script>\r\n *\r\n * <h1>{large.current ? 'large screen' : 'small screen'}</h1>\r\n * ```\r\n * @extends {ReactiveValue<boolean>}\r\n * @since 5.7.0\r\n */\r\nexport class MediaQuery extends ReactiveValue {\r\n\t/**\r\n\t * @param {string} query A media query string\r\n\t * @param {boolean} [fallback] Fallback value for the server\r\n\t */\r\n\tconstructor(query, fallback) {\r\n\t\tlet final_query =\r\n\t\t\tparenthesis_regex.test(query) ||\r\n\t\t\t// we need to use `some` here because technically this `window.matchMedia('random,screen')` still returns true\r\n\t\t\tquery.split(/[\\s,]+/).some((keyword) => non_parenthesized_keywords.has(keyword.trim()))\r\n\t\t\t\t? query\r\n\t\t\t\t: `(${query})`;\r\n\t\tconst q = window.matchMedia(final_query);\r\n\t\tsuper(\r\n\t\t\t() => q.matches,\r\n\t\t\t(update) => on(q, 'change', update)\r\n\t\t);\r\n\t}\r\n}\r\n", "import { DEV } from 'esm-env';\r\nimport { state } from '../internal/client/reactivity/sources.js';\r\nimport { tag } from '../internal/client/dev/tracing.js';\r\nimport { get } from '../internal/client/runtime.js';\r\nimport { get_current_url } from './url.js';\r\nimport { increment } from './utils.js';\r\n\r\nexport const REPLACE = Symbol();\r\n\r\n/**\r\n * A reactive version of the built-in [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) object.\r\n * Reading its contents (by iterating, or by calling `params.get(...)` or `params.getAll(...)` as in the [example](https://svelte.dev/playground/b3926c86c5384bab9f2cf993bc08c1c8) below) in an [effect](https://svelte.dev/docs/svelte/$effect) or [derived](https://svelte.dev/docs/svelte/$derived)\r\n * will cause it to be re-evaluated as necessary when the params are updated.\r\n *\r\n * ```svelte\r\n * <script>\r\n * \timport { SvelteURLSearchParams } from 'svelte/reactivity';\r\n *\r\n * \tconst params = new SvelteURLSearchParams('message=hello');\r\n *\r\n * \tlet key = $state('key');\r\n * \tlet value = $state('value');\r\n * </script>\r\n *\r\n * <input bind:value={key} />\r\n * <input bind:value={value} />\r\n * <button onclick={() => params.append(key, value)}>append</button>\r\n *\r\n * <p>?{params.toString()}</p>\r\n *\r\n * {#each params as [key, value]}\r\n * \t<p>{key}: {value}</p>\r\n * {/each}\r\n * ```\r\n */\r\nexport class SvelteURLSearchParams extends URLSearchParams {\r\n\t#version = DEV ? tag(state(0), 'SvelteURLSearchParams version') : state(0);\r\n\t#url = get_current_url();\r\n\r\n\t#updating = false;\r\n\r\n\t#update_url() {\r\n\t\tif (!this.#url || this.#updating) return;\r\n\t\tthis.#updating = true;\r\n\r\n\t\tconst search = this.toString();\r\n\t\tthis.#url.search = search && `?${search}`;\r\n\r\n\t\tthis.#updating = false;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {URLSearchParams} params\r\n\t * @internal\r\n\t */\r\n\t[REPLACE](params) {\r\n\t\tif (this.#updating) return;\r\n\t\tthis.#updating = true;\r\n\r\n\t\tfor (const key of [...super.keys()]) {\r\n\t\t\tsuper.delete(key);\r\n\t\t}\r\n\r\n\t\tfor (const [key, value] of params) {\r\n\t\t\tsuper.append(key, value);\r\n\t\t}\r\n\r\n\t\tincrement(this.#version);\r\n\t\tthis.#updating = false;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {string} name\r\n\t * @param {string} value\r\n\t * @returns {void}\r\n\t */\r\n\tappend(name, value) {\r\n\t\tsuper.append(name, value);\r\n\t\tthis.#update_url();\r\n\t\tincrement(this.#version);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {string} name\r\n\t * @param {string=} value\r\n\t * @returns {void}\r\n\t */\r\n\tdelete(name, value) {\r\n\t\tvar has_value = super.has(name, value);\r\n\t\tsuper.delete(name, value);\r\n\t\tif (has_value) {\r\n\t\t\tthis.#update_url();\r\n\t\t\tincrement(this.#version);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param {string} name\r\n\t * @returns {string|null}\r\n\t */\r\n\tget(name) {\r\n\t\tget(this.#version);\r\n\t\treturn super.get(name);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {string} name\r\n\t * @returns {string[]}\r\n\t */\r\n\tgetAll(name) {\r\n\t\tget(this.#version);\r\n\t\treturn super.getAll(name);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {string} name\r\n\t * @param {string=} value\r\n\t * @returns {boolean}\r\n\t */\r\n\thas(name, value) {\r\n\t\tget(this.#version);\r\n\t\treturn super.has(name, value);\r\n\t}\r\n\r\n\tkeys() {\r\n\t\tget(this.#version);\r\n\t\treturn super.keys();\r\n\t}\r\n\r\n\t/**\r\n\t * @param {string} name\r\n\t * @param {string} value\r\n\t * @returns {void}\r\n\t */\r\n\tset(name, value) {\r\n\t\tvar previous = super.getAll(name).join('');\r\n\t\tsuper.set(name, value);\r\n\t\t// can't use has(name, value), because for something like https://svelte.dev?foo=1&bar=2&foo=3\r\n\t\t// if you set `foo` to 1, then foo=3 gets deleted whilst `has(\"foo\", \"1\")` returns true\r\n\t\tif (previous !== super.getAll(name).join('')) {\r\n\t\t\tthis.#update_url();\r\n\t\t\tincrement(this.#version);\r\n\t\t}\r\n\t}\r\n\r\n\tsort() {\r\n\t\tsuper.sort();\r\n\t\tthis.#update_url();\r\n\t\tincrement(this.#version);\r\n\t}\r\n\r\n\ttoString() {\r\n\t\tget(this.#version);\r\n\t\treturn super.toString();\r\n\t}\r\n\r\n\tvalues() {\r\n\t\tget(this.#version);\r\n\t\treturn super.values();\r\n\t}\r\n\r\n\tentries() {\r\n\t\tget(this.#version);\r\n\t\treturn super.entries();\r\n\t}\r\n\r\n\t[Symbol.iterator]() {\r\n\t\treturn this.entries();\r\n\t}\r\n\r\n\tget size() {\r\n\t\tget(this.#version);\r\n\t\treturn super.size;\r\n\t}\r\n}\r\n", "import { DEV } from 'esm-env';\r\nimport { set, state } from '../internal/client/reactivity/sources.js';\r\nimport { tag } from '../internal/client/dev/tracing.js';\r\nimport { get } from '../internal/client/runtime.js';\r\nimport { REPLACE, SvelteURLSearchParams } from './url-search-params.js';\r\n\r\n/** @type {SvelteURL | null} */\r\nlet current_url = null;\r\n\r\nexport function get_current_url() {\r\n\t// ideally we'd just export `current_url` directly, but it seems Vitest doesn't respect live bindings\r\n\treturn current_url;\r\n}\r\n\r\n/**\r\n * A reactive version of the built-in [`URL`](https://developer.mozilla.org/en-US/docs/Web/API/URL) object.\r\n * Reading properties of the URL (such as `url.href` or `url.pathname`) in an [effect](https://svelte.dev/docs/svelte/$effect) or [derived](https://svelte.dev/docs/svelte/$derived)\r\n * will cause it to be re-evaluated as necessary when the URL changes.\r\n *\r\n * The `searchParams` property is an instance of [SvelteURLSearchParams](https://svelte.dev/docs/svelte/svelte-reactivity#SvelteURLSearchParams).\r\n *\r\n * [Example](https://svelte.dev/playground/5a694758901b448c83dc40dc31c71f2a):\r\n *\r\n * ```svelte\r\n * <script>\r\n * \timport { SvelteURL } from 'svelte/reactivity';\r\n *\r\n * \tconst url = new SvelteURL('https://example.com/path');\r\n * </script>\r\n *\r\n * <!-- changes to these... -->\r\n * <input bind:value={url.protocol} />\r\n * <input bind:value={url.hostname} />\r\n * <input bind:value={url.pathname} />\r\n *\r\n * <hr />\r\n *\r\n * <!-- will update `href` and vice versa -->\r\n * <input bind:value={url.href} size=\"65\" />\r\n * ```\r\n */\r\nexport class SvelteURL extends URL {\r\n\t#protocol = state(super.protocol);\r\n\t#username = state(super.username);\r\n\t#password = state(super.password);\r\n\t#hostname = state(super.hostname);\r\n\t#port = state(super.port);\r\n\t#pathname = state(super.pathname);\r\n\t#hash = state(super.hash);\r\n\t#search = state(super.search);\r\n\t#searchParams;\r\n\r\n\t/**\r\n\t * @param {string | URL} url\r\n\t * @param {string | URL} [base]\r\n\t */\r\n\tconstructor(url, base) {\r\n\t\turl = new URL(url, base);\r\n\t\tsuper(url);\r\n\r\n\t\tif (DEV) {\r\n\t\t\ttag(this.#protocol, 'SvelteURL.protocol');\r\n\t\t\ttag(this.#username, 'SvelteURL.username');\r\n\t\t\ttag(this.#password, 'SvelteURL.password');\r\n\t\t\ttag(this.#hostname, 'SvelteURL.hostname');\r\n\t\t\ttag(this.#port, 'SvelteURL.port');\r\n\t\t\ttag(this.#pathname, 'SvelteURL.pathname');\r\n\t\t\ttag(this.#hash, 'SvelteURL.hash');\r\n\t\t\ttag(this.#search, 'SvelteURL.search');\r\n\t\t}\r\n\r\n\t\tcurrent_url = this;\r\n\t\tthis.#searchParams = new SvelteURLSearchParams(url.searchParams);\r\n\t\tcurrent_url = null;\r\n\t}\r\n\r\n\tget hash() {\r\n\t\treturn get(this.#hash);\r\n\t}\r\n\r\n\tset hash(value) {\r\n\t\tsuper.hash = value;\r\n\t\tset(this.#hash, super.hash);\r\n\t}\r\n\r\n\tget host() {\r\n\t\tget(this.#hostname);\r\n\t\tget(this.#port);\r\n\t\treturn super.host;\r\n\t}\r\n\r\n\tset host(value) {\r\n\t\tsuper.host = value;\r\n\t\tset(this.#hostname, super.hostname);\r\n\t\tset(this.#port, super.port);\r\n\t}\r\n\r\n\tget hostname() {\r\n\t\treturn get(this.#hostname);\r\n\t}\r\n\r\n\tset hostname(value) {\r\n\t\tsuper.hostname = value;\r\n\t\tset(this.#hostname, super.hostname);\r\n\t}\r\n\r\n\tget href() {\r\n\t\tget(this.#protocol);\r\n\t\tget(this.#username);\r\n\t\tget(this.#password);\r\n\t\tget(this.#hostname);\r\n\t\tget(this.#port);\r\n\t\tget(this.#pathname);\r\n\t\tget(this.#hash);\r\n\t\tget(this.#search);\r\n\t\treturn super.href;\r\n\t}\r\n\r\n\tset href(value) {\r\n\t\tsuper.href = value;\r\n\t\tset(this.#protocol, super.protocol);\r\n\t\tset(this.#username, super.username);\r\n\t\tset(this.#password, super.password);\r\n\t\tset(this.#hostname, super.hostname);\r\n\t\tset(this.#port, super.port);\r\n\t\tset(this.#pathname, super.pathname);\r\n\t\tset(this.#hash, super.hash);\r\n\t\tset(this.#search, super.search);\r\n\t\tthis.#searchParams[REPLACE](super.searchParams);\r\n\t}\r\n\r\n\tget password() {\r\n\t\treturn get(this.#password);\r\n\t}\r\n\r\n\tset password(value) {\r\n\t\tsuper.password = value;\r\n\t\tset(this.#password, super.password);\r\n\t}\r\n\r\n\tget pathname() {\r\n\t\treturn get(this.#pathname);\r\n\t}\r\n\r\n\tset pathname(value) {\r\n\t\tsuper.pathname = value;\r\n\t\tset(this.#pathname, super.pathname);\r\n\t}\r\n\r\n\tget port() {\r\n\t\treturn get(this.#port);\r\n\t}\r\n\r\n\tset port(value) {\r\n\t\tsuper.port = value;\r\n\t\tset(this.#port, super.port);\r\n\t}\r\n\r\n\tget protocol() {\r\n\t\treturn get(this.#protocol);\r\n\t}\r\n\r\n\tset protocol(value) {\r\n\t\tsuper.protocol = value;\r\n\t\tset(this.#protocol, super.protocol);\r\n\t}\r\n\r\n\tget search() {\r\n\t\treturn get(this.#search);\r\n\t}\r\n\r\n\tset search(value) {\r\n\t\tsuper.search = value;\r\n\t\tset(this.#search, value);\r\n\t\tthis.#searchParams[REPLACE](super.searchParams);\r\n\t}\r\n\r\n\tget username() {\r\n\t\treturn get(this.#username);\r\n\t}\r\n\r\n\tset username(value) {\r\n\t\tsuper.username = value;\r\n\t\tset(this.#username, super.username);\r\n\t}\r\n\r\n\tget origin() {\r\n\t\tget(this.#protocol);\r\n\t\tget(this.#hostname);\r\n\t\tget(this.#port);\r\n\t\treturn super.origin;\r\n\t}\r\n\r\n\tget searchParams() {\r\n\t\treturn this.#searchParams;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn this.href;\r\n\t}\r\n\r\n\ttoJSON() {\r\n\t\treturn this.href;\r\n\t}\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
